language: node_js
node_js:
- 14
services: mongodb
env:
  global:
  - DB_URL=mongodb://127.0.0.1:27017/
  - DB_NAME=whiskse
  - secure: xBX8XlotJgfyfUmiYXs5uFCAbDyI7R2UDi3bEgNqNamvN8/M5EiMdwsWSmhJ+/Ysqvkd/dWEzPU8Z/Cto5k2AHuaPu3WJHHT308R644Sjc3M0+/TTUlE4yKtV5i7nuUyVAl2I78WNYOsW1yaZRZks5m1fFcYlF4Kaiu7J7mrCPrnSdQlUnOq0+W2SF1fE/bHqgs9PFsNDqmMuxFtoXtNQWwD+o9u6KAXcN5cRZiC9dchTL4XCZvEn28uwSbiMYNFC5a/JhopcPmsFX9yfT0Ib+v/kxgt+E5iT7vEiTd8ZP8zSSsgnYxuk83gDgnF8zSLQxSj9s7NcCQLD9BXJk+QEpoSrs2BPGMH70OFzvgM+Z3kwmS9AkACcH/42ABjUCB9rBQNa/f93XvV4arghzBKqZO7ilt0N6cp52nbgVpCsUu7vITPpGAZKeqvflw31mjKHOqoUkP4YZ5Tyw4gGZkmx0Zy5+ciyYCMwB4E2VApZxaurYp9l5FVLdsgHzcB7KkVrmUd78JJUvE7dg76sIyh1KdLqbUMMMbOgdXG0X0qhtFpgUQnJG82kvjhOwVed8XjXnDq42rxBTnBJ2dh02oM1JN4RdWZMp7tpHHkJ32nSl6eZHStwssvroPwp7T/IxHK3yzEXRpz1cj+AYQRmR6ySWz2iNbErZcxpPkJpMmf6I4=
  - secure: rT8YFy/YhvY30BE1hbi7GNXDT8l9/01CLD3dtWVlDtJxEJOYKvzCFvkWE/oaNef7dekbK5KAL+l+8ow4xEPNgg7Yf4oVGTEcgCLNe9Tb+eCKhypZ5/0JYcveobUMYSO4yEtjb6vVlfbI2VIVfrHPivOIq/JcJspCDIO3f+d2dqmAcpVmeypfiFxJWTWRMIwJ3fenyFjXQ6RGA9EHL0p8xjeMxjfT3SjyLRr7m/J0NzBs1KSv23DrSCkbUEVm5eqppvkyl2jm04gWMU3//WsCIMFk2ubIgVlGgFodZrVy6W0eczzBsXhMESdGE0UPI8hYFKSz4lJNZugY55iLRE4rDF31Yhv5mB/7a4COdaX/EUPps3d8GlHdp0NJO8g2m7KoVs1a89cC+cFKz1TR9OBehjGS+Dts9D4h2biX426JcgS28v7so7e8kRqJvbAt6PpL8sV3+i+MyFwNNhVToyuXydlIAGbh6twCucnealnO4Y3/X1Jh9z9m8xxqCFyCE2SEQ1TiA1qZG1OWIuPTy61BnHH2zU6d6ujlr2Qz3nR+HUbGPzOivB+8yKEKGrakBtCgHquO3Y3438WIu+VKzaMuAURIx2mXOFWU/bc5o2ZMgseorH9GoXc8CN+gxoKeEg7q+gj0Bumik3sqssfBvfbRWC3kGhWXdPVya9Yd1zmn+DA=
  - secure: HqQ/VTus9t9imprnXl4zOprbCdf7ozBSpkEqI+DCXqv1fDRpBbrFvkCx4kebxoByW5djvePVh5zEErSqqBh2kaJQPq3xS+VXGyvf8jd5/zm6W8klmcJxGRw1GYANfrFeN3SByEXhhzsz/Wiq5e8/3LgQaXZu10C+1B6yeBo947nGH7/R42WxBANiUQ1MEONe3AbGEM5v2EMPDjyPfROloMuMIQ5M3Cxyo7uLLmO757eMbvBc5fGP5QwQA6PS1KuEIkjtJQXqAjAFQjmBssMzOUlzCQyaUWgwel+HrzQx2favkVWj17ZnOSRwt+mGclmQvyWmj9tAfySEvt8JCrF+5yL/zrpiVVltN5+zMbpSp2TniVX0bfl9+IqXJF9mDJRIHg/bR3/pkmpcUyj92snoXhMAkPloYBNh+1afV9Xb48LhUiAED3WpbdtwkxKDVonF3/EFqNra2wdmqtTvbbTn8WpJXTGRBiTpqQ777q0kjsH/AYs5keA8QNt5fHj5uu8AwHirwQP1+WO/TgB+abN4zb1J2bKX9C+G7+WSwitLZ46jfK4NcWw6/nWrPcPvktfuYVqlGtyLfnF3Ov2IzdeltQaDrBHictT73WUWu4DRF858QAJYAVWDfTqGhvsun0ed6nQieN/3JXIw1OpkhWyd974KlX9F7mIFqwb9gQcam34=
  - secure: eTtS+PIquPc99upKQZpYNSxq+KVdT9i5hTPK7xiegDIdbjEyiYYU43XW22zuKCpBjeyrpVkuG0LFf0KjqsW68LgXXdSOl9NoXVzwsQp7N9PdkVfE8cFyQfX5my5CZbF1RIBVO1qi0QZfMfmCyP5kESkigEEQSKyrPqcEFsS9GRy1z3l7xLqlHlM4eTfmkiB1fWI2y6XoD2m09DiQZ7S5KRiM3QZycFj2ZJKIqY+77sFFuzbOva+QKHdxO5EjtZOTiv7p6PpPtqJFWgeFih64uMDGP8H6FvjkxhwLcUOlWZ4pO7/YhTL+Osrju0e4udbsSqdmlb7XDj2X9eblMDK5qEoMDPuVYZRAp0ur6+GugyoPs96mQq5E9ljfzzz9bHOwAA9C/mJn9q4e0ACgWYzL4Fn69TdfTUp544AB9v+59pTiLK5fObRQxTUPqloQ66E/ln6IuJjq3koKk66pYA8TQuHv9ZXIvoginkGFto/t1scxsmLTmTQoo3vAPl2Ti1TLFmz6oqvWxmrBzndWKHWhtOKKjhFqVXQhDuZ4xUPLYKD8vh0lLPstEek1wvatxHesACE9shrm7zDF+xRDbjrNn89R3/xsC+kFsHBf+7XN2rzMAjU/LVP1TNgo8w9N2rOkOhRIc1GKsaVmjo566VSKZzeomfVEjhVHpiMfAIXLOos=
  - secure: Z7hxlXqsAGLEi6IJYDZY/G+9cUgnJzdC1lQpWFt2PZE5M8YrlocwST/dSNKoo/72PhUTwyDrxndCApG9XqbVeBMKWGQBEwSP4VgPN/6AZQXS1cd94jg1X5YoZvJth+CF/LSt4OiO085dIuPB4mAX4jlc1qYbtWVghU0o7sObwgF0kygq+hDAe6ss3yEZiLJPP8kO/R5utoVyurhkqx+sEUbey16L9D6EUjpc1+aYkoo25ri8t+qfUa9HIYRO6wbvv4kb7G9m7iZ3loCuUWwqpiBWrKp2+cUZzr4G1INgVm/9g5pm/62DwF91yZo4ePrnMjGLyZxv9g9d5W0Etc7CPv+3DBN5Ljpo9j2l8h3Xx9eZPN9qc4K0MfXoQMibVVFx3EFmVrnyRO+PX0k1lazrW41DcJp55w7mjXpDkpdTOirDMqHMb4Q+ODGZNQ1MsgRNcQGmV2gjpkOUQ6vWiT+gSQOLwTT2ooiOY+OlPXnLiYf+3hkpLw6fFMJuID9LpPCBtx+VJqRr4f/78MRMJMm7BB8NeH0UUw/v63olAM1/hMe2kFMLg/G7G+NGNdqqF6zJyt+1nl9qJuS9JEFV7AojTvb3d8gyR+TTs5EiYEclw6gjYkRFLObJsjrnKgxGDGNkxRIcl9RqXl9UjL/TJ/UXs7qsJu7NmAbyc4gWPBobfEE=
script:
  - npm run build
deploy:
  provider: heroku
  api_key:
    secure: SPIMiHeZ4rufZrATNX+sdLepGEzPGOWrZRNkXN5pATcYv6ZrlDvBDpk6E5MCWao+KgAfJr5eXpkn6BzvgEf/8w/8mQs5fnMN3c76utygvd0s14N5gSvSf+dM109Re2FeT6vD7dem5DESB65vM7ufTbdcIlElKRnyyDNZZG4nkt9EPwrKQ+Jo9/RQPFRWoqEj1KbdK9SN9NDA/+SXRovmoMRJyguqXfwXS+t8HwhvcJ9axwn4+GTX1+S9oIiBN1cERdEFjd7Ie27i+t0QP3sKbG0WL/9Df+whGoS1JIOhh0pP9zktTH4AYOTXXVpE+LjB/mOmTFqDKuAebYCUcKOU7PKvORzAZ3pNmNqJITAmlLf1oCzATH9z3y+cS0fJWFZ4IR/AZcJ/+W4+ZcMS8aLzZMEy1jmM/joy/EUsRK8NqPf6Z3mW0y+Owp5iPc7NVaGgOChsRi61XDMAlkaH0ZWYdNwXF7uDDJpQwBJ4uQXfawgbNpfbF+qDwoJaIYEhCK+2PQczMkaOzwE3IHwKRoTYto+wBicoU9wpUqTf27SBllOBzNkGlBIr3OeTZcIVFP/e1ADcky19qs5GT7PB9/VbJk8wh+ZGjruTN+oWpfq3JMx2znATmeBLPuFB9u/ROvFDfgxgVBFAdczFjcMAGiJ3WPriaej0YNW3+zqwz+WTvfo=
  app: whisk-store-api
  local_dir: dist/
  on:
    repo: stebunting/whisk-store-api
    branch: main
  skip_cleanup: 'true'
